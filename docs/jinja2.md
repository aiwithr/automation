### টেমপ্লেটিং ল্যাঙ্গুয়েজ

এই পৃথিবীতে কে ফাঁকিবাজি না করতে পছন্দ করে? তবে এই ফাঁকিবাজি করতে গিয়ে একই কনফিগারেশন অন্য ডিভাইসে যখন কপি পেস্ট করি তখন শুরু হয় ঝামেলা। অনেক সময় আমরা সিঙ্গেল কনফিগার ডিভাইস থেকে কপি পেস্ট করে যখন আরেকটা ডিভাইসে বসাই বা আরো অনেক ডিভাইসে বসাই তখন পুরনো ভিল্যান অথবা কিছু মাস্টার কনফিগ ফাইল থেকে কপি করলে সেটাতে কাজ করার সম্ভাবনা থাকে না। কারণ এটা একটা নতুন এনভায়রনমেন্ট। আর এই ঝামেলার জন্য কিছু টেমপ্লেটিং ল্যাঙ্গুয়েজ ব্যবহার করি নেটওয়ার্কের যাতে যে কোন নতুন এনভায়রনমেন্টে এ ধরনের টেমপ্লেটগুলো ডায়নামিক্যালি অ্যাডাপ্ট করতে পারে। 

নেটওয়ার্কে সফটওয়্যার এর একটা কথা আছে, ড্রাই। ডোন্ট রিপিট ইউরসেলফ। আমরা এমনভাবে কোড অথবা টেমপ্লেট তৈরি করতে চায় যেখানে এই একই জিনিস ব্যবহার করা যাবে ভিন্ন ভিন্ন জায়গায় যার পেছনে থাকবে মডিউলার আর্কিটেকচার। এতে একটা ফাইলকে বারবার রি রাইট না করে বিভিন্ন মডিউল থেকে কনফিগ ফাইল এসে ডাটা ফাইল থেকে ডাটা নিয়ে ভিন্ন ভিন্ন এনভায়রনমেন্টে কনফিগারেশন জেনারেট করে দিবে। এটার জন্য আমরা ব্যবহার করব জিনজা টেমপ্লেট।

নেটওয়ার্ক অটোমেশনের জন্য একটা জিনিস খুবই প্রয়োজন সেটা হচ্ছে কনফিগারেশন কনসিসটেন্সি। আমরা একই জিনিস যখন রিপিটেডলি প্রোডাকশন এনভারমেন্ট এর জন্য ব্যবহার করব তখন সেখানে যাতে মানুষের ভুলের কারণে নেটওয়ার্কের সমস্যা না হয় সেটার জন্যই দরকার যুক্তিসঙ্গত টেমপ্লেটিং ইঞ্জিন। সবচেয়ে বড় কথা হচ্ছে এ ধরনের টেমপ্লেট ব্যবহার করলে নেটওয়ার্ক ইঞ্জিনিয়ারদের অনেক সময় বেঁচে যায়। 

নেটওয়ার্ক কনফিগারেশনের জায়গায় আমরা একই ধরনের আইডিয়া ব্যবহার করতে পারি। বিভিন্ন এনভায়রনমেন্ট এর জন্য আমরা ছোট ছোট বেশ কিছু দিন যা টেমপ্লেট তৈরি করব যাতে যেকোনো একটা কাজ করতে গেলে যেমন ধরা যাক ইন্টারফেস কনফিগারেশন অথবা বিজিপি কনফিগারেশন অথবা ওএসপিএফ কনফিগারেশন তৈরি করতে এ ধরনের টেম্প্লেটিং ইঞ্জিন ব্যবহার করব। ফাইনালি যখন আমরা এ ধরনের আলাদা আলাদা টেমপ্লেটকে একটা জায়গা থেকে কম্বাইন করে একটা পূর্ণ কনফিগারেশন ফাইল তৈরি করতে চাইবো যেটা একটা মাস্টার টেমপ্লেট হবে। এর কাজ হচ্ছে সবগুলো জায়গা থেকে ডাটা পুল করে আনবে ফাইনাল কনফিগারেশনে। 

আমার অভিজ্ঞতায় দেখেছি যে প্রচুর নেটওয়ার্ক এডমিশন প্রজেক্টে এ ধরনের টেমপ্লেট আর মানুষ ব্যবহার করেন না। এই টেমপ্লেট একবার ব্যবহার শুরু করলে এ ধরনের টেমপ্লেট এনসিবল এর মত automation software platform ব্যবহার করতে পারে তাদের কনফিগারেশন চেঞ্জ গুলোকে নেটওয়ার্কের অর্থাৎ লাইভ বা প্রোডাকশন এনভায়রনমেন্টে পুশ করার জন্য।

### জিনজা কি? 

জিনজার আসলে পাইথনের একটা টেমপ্লেটিং ইঞ্জিন। ওয়েবসাইট তৈরি করার সময় ডিজঙ্গ অথবা ফ্লাসকে এটার ব্যবহার প্রচুর। তবে নেটওয়ার্ক ইঞ্জিনিয়ারদের জন্য আমরা বিভিন্ন ধরনের নেটওয়ার্ক কনফিগারেশন এই টেমপ্লেটে তৈরি করে থাকি। বিভিন্ন ধরনের আইপি অ্যাড্রেস অথবা বি ল্যান্ড আইডি একটা টেক্সট ডকুমেন্টে বিভিন্ন প্লেস হোল্ডার টেক্সট ব্যবহার করে ভ্যারিয়েবল আইটেম হিসেবে রাখা যায়। সবচেয়ে মজার কথা হচ্ছে এটা একটা সিঙ্গেল কনফিগারেশন টেমপ্লেট ফাইল থেকে বিভিন্ন লিস্ট ধরে ধরে ঘুরিয়ে-ফিরিয়ে আলাদা আলাদা কোড ব্লক তৈরি করা যায় প্রতিটা আইটেম ধরে ধরে। যেমন আমরা যদি ফ্রিল্যান্স তৈরি করতে চাই তাহলে নতুন সুইচে বিভিন্ন ভিলেন তৈরি করতে গেলে আলাদা আলাদা ভাবে কপি পেস্ট করে আসল ভিলেন আইডি ঢোকানো বেশ কষ্টের। সেখানে জিনজা দিয়ে আমরা ফ্রীলান্স নাম্বারের লিস্ট পাস করে দিতে পারি ফাইনাল কনফিগারেশন এর জন্য। 

একটা উদাহরণ দেখি। শুরুতেই জিনজা ইনস্টলেশন। (এরপর থেকে আর ইনস্টলেশনের ব্যাপারটা আর বলবো না)

```python
$ pip install jinja2
```
স্ক্রিপ্টটা দেখুন, বোঝা লাগবে না। শুধু চোখ বুলিয়ে নিন।

```python 

#start by importing the Template function from jinja2
from jinja2 import Template

#Set up your jinja template
jtemplate = Template("vlan {{ vlan }}\n name VLAN{{ vlan }}_ABC_Bank\n")

#Create the list of VLANs you want to generate configuration for
vlans = [10,20,30,40,50,60,70,80,90,100]

#Iterate over the list of vlans and print a useable configuration
for vlan in vlans:
    output = jtemplate.render(vlan=vlan)
    print(output)
```

এই স্ক্রিপ্টটা চালালে এটা একটা কনফিগারেশন ফাইল তৈরি করে দিবে যার মধ্যে ভিল্যান ১০ থেকে ১০০ পর্যন্ত থাকবে।

এর আসল খেলাটা এখানে,

```python

vlans = [10,20,30,40,50,60,70,80,90,100]

for vlan in vlans:
    output = jtemplate.render(vlan=vlan)
    print(output)
```


